(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{tW0C:function(I,k,a){"use strict";a.r(k);var J=a("/xke"),l=a("TeRw"),v=a("o0o1"),m=a.n(v),w=a("HaE+"),g=a("VTBJ"),n=a("q1tI"),x=a.n(n),y=a("iqUP"),o=a.n(y),z=a("bIAK"),i=a("c+yx"),p=a("Oxmv"),h=a("9kvl"),q=a("BqDR"),A=a("1qqS"),B=function aa(){var C=Object(h.ab)("user"),b=C.firebaseUser,r=Object(h.ab)("@@initialState"),s=r.initialState,t=r.setInitialState;Object(n.useEffect)(function(){b&&b.isAnonymous?(t(Object(g.a)(Object(g.a)({},s),{},{firebaseUser:b})),h.L.replace({pathname:"/"})):b&&!b.isAnonymous&&Object(q.a)(b.uid).then(function(){var f=Object(w.a)(m.a.mark(function H(c){var j,u;return m.a.wrap(function ba(d){for(;;)switch(d.prev=d.next){case 0:if(c){d.next=8;break}return d.next=3,Object(q.b)(b);case 3:c=d.sent;if(c){d.next=7;break}return h.L.push("/oops"),d.abrupt("return");case 7:h.L.replace({pathname:Object(A.f)()});case 8:j=[],Object(i.g)(c.subscription)&&j.push({key:"pro",label:"Pro"}),u=Object(i.k)(c.permission,Object(i.g)(c.subscription)),t(Object(g.a)(Object(g.a)({},s),{},{firebaseUser:b,currentUser:Object(g.a)(Object(g.a)({},c),{},{name:c.display_name,tags:j,authorities:u})})),h.L.push("/");case 13:case"end":return d.stop()}},H)}));return function(H){return f.apply(this,arguments)}}())},[b]);var e=Object(i.d)(),D=e&&e.id_token,E=e&&e.state==="facebookdirect"&&e.access_token;if(D){var F=o.a.auth.GoogleAuthProvider.credential(e.id_token);p.b.signInWithCredential(F).catch(function(f){console.error({signInWithCredentialFacebook:f}),l.a.error({message:f.message})})}else if(E){var G=o.a.auth.FacebookAuthProvider.credential(e.access_token);p.b.signInWithCredential(G).catch(function(f){console.error({signInWithCredentialFacebook:f}),l.a.error({message:f.message})})}return x.a.createElement(z.default,null)};k.default=B}}]);
