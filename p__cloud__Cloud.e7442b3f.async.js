(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"15/o":function(e,t,n){},"1YHl":function(e,t,n){"use strict";n("cIOH"),n("15/o")},2:function(e,t){},"4qKp":function(e,t,n){e.exports={liked:"liked___2rJz-",coverCardList:"coverCardList___2eVtp",card:"card___3rGL5",cardItemContent:"cardItemContent___3xiJw",avatarList:"avatarList___Z_TuL",cardList:"cardList___1NbTo"}},"8eEf":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("IzEo");var a=n("bx4M"),r=(n("tU7J"),n("wFql")),i=n("q1tI"),o=n.n(i),c=n("9kvl"),u=n("uYtH"),l=n("6+LV"),s=n("UFF1"),f=n("1qqS"),d=n("qHIK"),p=n("4qKp"),m=n.n(p),h=n("dPZp");function b(e){var t=e.item,n=e.displayCommentsLength,i=Object(c["Rb"])("preview"),p=i.setSelectedItem,b=i.unselectItem,v=function(){return p(t)};return o.a.createElement(a["a"],{className:m.a.card,hoverable:!0},o.a.createElement(a["a"].Meta,{avatar:o.a.createElement(u["a"],{to:Object(f["f"])(t.author.uid)},o.a.createElement(h["a"],{type:s["a"].USER,id:t.author.uid})),title:o.a.createElement("span",{onClick:v},o.a.createElement(r["default"].Text,null,t.title)),description:o.a.createElement("span",{onClick:v},o.a.createElement(r["default"].Text,null,t.text))}),o.a.createElement(d["a"],{what:l["a"].LINK,item:t,displayCommentsLength:n,unselectItem:b}))}},VNzZ:function(e,t,n){"use strict";var a=n("q1tI"),r=n("TSYQ"),i=n.n(r),o=n("BGR+"),c=n("t23M"),u=n("H84U"),l=n("xEkU"),s=n.n(l);function f(e){return h(e)||m(e)||p(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function v(e){var t,n=function(n){return function(){t=null,e.apply(void 0,f(n))}},a=function(){if(null==t){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];t=s()(n(a))}};return a.cancel=function(){return s.a.cancel(t)},a}function y(){return function(e,t,n){var a=n.value,r=!1;return{configurable:!0,get:function(){if(r||this===e.prototype||this.hasOwnProperty(t))return a;var n=v(a.bind(this));return r=!0,Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),r=!1,n}}}}var g=n("zT1h");function E(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function O(e,t,n){if(void 0!==n&&t.top>e.top-n)return n+t.top}function k(e,t,n){if(void 0!==n&&t.bottom<e.bottom+n){var a=window.innerHeight-t.bottom;return n+a}}var x=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],w=[];function j(e,t){if(e){var n=w.find((function(t){return t.target===e}));n?n.affixList.push(t):(n={target:e,affixList:[t],eventHandlers:{}},w.push(n),x.forEach((function(t){n.eventHandlers[t]=Object(g["a"])(e,t,(function(){n.affixList.forEach((function(e){e.lazyUpdatePosition()}))}))})))}}function C(e){var t=w.find((function(t){var n=t.affixList.some((function(t){return t===e}));return n&&(t.affixList=t.affixList.filter((function(t){return t!==e}))),n}));t&&0===t.affixList.length&&(w=w.filter((function(e){return e!==t})),x.forEach((function(e){var n=t.eventHandlers[e];n&&n.remove&&n.remove()})))}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function L(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function N(e){var t=H();return function(){var n,a=F(e);if(t){var r=F(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==U(t)&&"function"!==typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function U(e){return U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}var K,A=function(e,t,n,a){var r,i=arguments.length,o=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"===typeof Reflect?"undefined":U(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};function z(){return"undefined"!==typeof window?window:null}(function(e){e[e["None"]=0]="None",e[e["Prepare"]=1]="Prepare"})(K||(K={}));var B=function(e){L(n,e);var t=N(n);function n(){var e;return I(this,n),e=t.apply(this,arguments),e.state={status:K.None,lastAffix:!1,prevTarget:null},e.getOffsetTop=function(){var t=e.props.offsetBottom,n=e.props.offsetTop;return void 0===t&&void 0===n&&(n=0),n},e.getOffsetBottom=function(){return e.props.offsetBottom},e.savePlaceholderNode=function(t){e.placeholderNode=t},e.saveFixedNode=function(t){e.fixedNode=t},e.measure=function(){var t=e.state,n=t.status,a=t.lastAffix,r=e.props.onChange,i=e.getTargetFunc();if(n===K.Prepare&&e.fixedNode&&e.placeholderNode&&i){var o=e.getOffsetTop(),c=e.getOffsetBottom(),u=i();if(u){var l={status:K.None},s=E(u),f=E(e.placeholderNode),d=O(f,s,o),p=k(f,s,c);void 0!==d?(l.affixStyle={position:"fixed",top:d,width:f.width,height:f.height},l.placeholderStyle={width:f.width,height:f.height}):void 0!==p&&(l.affixStyle={position:"fixed",bottom:p,width:f.width,height:f.height},l.placeholderStyle={width:f.width,height:f.height}),l.lastAffix=!!l.affixStyle,r&&a!==l.lastAffix&&r(l.lastAffix),e.setState(l)}}},e.prepareMeasure=function(){e.setState({status:K.Prepare,affixStyle:void 0,placeholderStyle:void 0})},e.render=function(){var t=e.context.getPrefixCls,n=e.state,r=n.affixStyle,u=n.placeholderStyle,l=e.props,s=l.prefixCls,f=l.children,d=i()(S({},t("affix",s),r)),p=Object(o["default"])(e.props,["prefixCls","offsetTop","offsetBottom","target","onChange"]);return a["createElement"](c["a"],{onResize:function(){e.updatePosition()}},a["createElement"]("div",T({},p,{ref:e.savePlaceholderNode}),r&&a["createElement"]("div",{style:u,"aria-hidden":"true"}),a["createElement"]("div",{className:d,ref:e.saveFixedNode,style:r},a["createElement"](c["a"],{onResize:function(){e.updatePosition()}},f))))},e}return M(n,[{key:"getTargetFunc",value:function(){var e=this.context.getTargetContainer,t=this.props.target;return void 0!==t?t:e||z}},{key:"componentDidMount",value:function(){var e=this,t=this.getTargetFunc();t&&(this.timeout=setTimeout((function(){j(t(),e),e.updatePosition()})))}},{key:"componentDidUpdate",value:function(e){var t=this.state.prevTarget,n=this.getTargetFunc(),a=null;n&&(a=n()||null),t!==a&&(C(this),a&&(j(a,this),this.updatePosition()),this.setState({prevTarget:a})),e.offsetTop===this.props.offsetTop&&e.offsetBottom===this.props.offsetBottom||this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),C(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var e=this.getTargetFunc(),t=this.state.affixStyle;if(e&&t){var n=this.getOffsetTop(),a=this.getOffsetBottom(),r=e();if(r&&this.placeholderNode){var i=E(r),o=E(this.placeholderNode),c=O(o,i,n),u=k(o,i,a);if(void 0!==c&&t.top===c||void 0!==u&&t.bottom===u)return}}this.prepareMeasure()}}]),n}(a["Component"]);B.contextType=u["b"],A([y()],B.prototype,"updatePosition",null),A([y()],B.prototype,"lazyUpdatePosition",null);t["a"]=B},aPSF:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("IzEo");var a=n("bx4M"),r=(n("tU7J"),n("wFql")),i=n("q1tI"),o=n.n(i),c=n("9kvl"),u=n("uYtH"),l=n("8VMr"),s=n("dPZp"),f=n("6+LV"),d=n("UFF1"),p=n("1qqS"),m=n("qHIK"),h=n("4qKp"),b=n.n(h);function v(e){var t=e.item,n=e.displayCommentsLength,i=Object(c["Rb"])("preview"),h=i.setSelectedItem,v=i.unselectItem,y=function(){return h(t)};return o.a.createElement(a["a"],{className:b.a.card,hoverable:!0},o.a.createElement(a["a"].Meta,{avatar:o.a.createElement(u["a"],{to:Object(p["f"])(t.author.uid)},o.a.createElement(s["a"],{type:d["a"].USER,id:t.author.uid})),title:o.a.createElement("span",{onClick:y},o.a.createElement(r["default"].Text,null,t.title)),description:o.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(r["default"].Text,null,t.url))}),o.a.createElement("br",null),o.a.createElement(l["a"],{url:t.url,lazy:!0}),o.a.createElement(m["a"],{what:f["a"].LINK,item:t,displayCommentsLength:n,unselectItem:v}))}},jzfs:function(e,t,n){"use strict";n.r(t);n("1YHl");var a=n("VNzZ"),r=(n("+L6B"),n("2/Rp")),i=(n("Mwp2"),n("VXEj")),o=n("KQm4"),c=n("q1tI"),u=n.n(c),l=n("9kvl"),s=n("4qKp"),f=n.n(s),d=n("rVr4"),p=(n("qw9D"),n("aPSF")),m=n("8eEf"),h=(n("2qtc"),n("kLXV")),b=n("6+LV"),v=function(){var e=Object(l["Rb"])("@@initialState"),t=e.initialState,n=t||{},a=n.currentUser,r=Object(l["Rb"])("preview"),i=r.selectedItem,o=r.unselectItem;console.log("selected ".concat(i));var u,s=function(){return o()};return i&&a?(u=i.$type===b["a"].PHOTO?c["createElement"](d["a"],{item:i,displayCommentsLength:Number.MAX_SAFE_INTEGER}):"post"===i.$type?c["createElement"](m["a"],{item:i,currentUser:a,displayCommentsLength:Number.MAX_SAFE_INTEGER}):c["createElement"](p["a"],{item:i,currentUser:a,displayCommentsLength:Number.MAX_SAFE_INTEGER}),c["createElement"](h["a"],{footer:null,centered:!0,bodyStyle:{padding:0},visible:void 0!==i,onCancel:s},u)):c["createElement"]("div",null)},y=v,g=n("bIAK"),E=n("+T5r"),O=n("OUGT"),k=n("xvlK"),x=function(e){var t=function(){return Object(O["redirectToWithFootprint"])(e.dispatch,"/cloud/upload")},n=Object(l["Rb"])("cloud"),s=n.setLinks,h=n.setPhotos,b=n.setPosts,v=n.posts,x=n.links,w=n.photos;if(Object(c["useEffect"])((function(){return Object(E["v"])(s)}),[]),Object(c["useEffect"])((function(){return Object(E["x"])(h)}),[]),Object(c["useEffect"])((function(){return Object(E["y"])(b)}),[]),void 0===w||void 0===v||void 0===x)return u.a.createElement(g["default"],null);var j=[].concat(Object(o["a"])(w),Object(o["a"])(v),Object(o["a"])(x)).sort((function(e,t){return Number(t.creationTime)-Number(e.creationTime)}));return u.a.createElement("div",null,u.a.createElement(i["b"],{className:f.a.coverCardList,style:{maxWidth:614,margin:"0 auto"},rowKey:"uid",itemLayout:"vertical",dataSource:j,renderItem:function(e){return"photo"===e.$type?u.a.createElement(d["a"],{displayCommentsLength:3,item:e}):"post"===e.$type?u.a.createElement(m["a"],{displayCommentsLength:3,item:e}):"link"===e.$type?u.a.createElement(p["a"],{displayCommentsLength:3,item:e}):u.a.createElement("div",null)}}),u.a.createElement(y,null),u.a.createElement(a["a"],{offsetBottom:30},u.a.createElement(r["default"],{type:"primary",icon:u.a.createElement(k["a"],null),shape:"circle",size:"large",onClick:t})))};t["default"]=x},qHIK:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var a=n("VTBJ"),r=(n("5NDa"),n("5rEg")),i=(n("Mwp2"),n("VXEj")),o=(n("lUTK"),n("BvKs")),c=(n("2qtc"),n("kLXV")),u=n("ODXe"),l=n("q1tI"),s=n.n(l),f=n("wd/R"),d=n.n(f),p=n("Oxmv"),m=n("9kvl"),h=(n("miYZ"),n("tsqr")),b=n("o0o1"),v=n.n(b),y=(n("/xke"),n("TeRw")),g=n("HaE+"),E=n("+T5r"),O=n("6+LV");function k(e,t,n){return x.apply(this,arguments)}function x(){return x=Object(g["a"])(v.a.mark((function e(t,n,a){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===O["a"].PHOTO?4:e.t0===O["a"].LINK?7:e.t0===O["a"].POST?10:13;break;case 4:return e.next=6,Object(E["n"])(n,a);case 6:return e.abrupt("break",14);case 7:return e.next=9,Object(E["m"])(n,a);case 9:return e.abrupt("break",14);case 10:return e.next=12,Object(E["o"])(n,a);case 12:return e.abrupt("break",14);case 13:throw Error("unsupported operation");case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](0),y["a"].error({message:e.t1.message});case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),x.apply(this,arguments)}function w(e,t){return j.apply(this,arguments)}function j(){return j=Object(g["a"])(v.a.mark((function e(t,n){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===O["a"].PHOTO?4:e.t0===O["a"].LINK?7:e.t0===O["a"].POST?10:13;break;case 4:return e.next=6,Object(E["i"])(n);case 6:return e.abrupt("break",14);case 7:return e.next=9,Object(E["g"])(n);case 9:return e.abrupt("break",14);case 10:return e.next=12,Object(E["k"])(n);case 12:return e.abrupt("break",14);case 13:throw Error("unsupported operation");case 14:h["a"].success("Successfully deleted ".concat(t)),e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](0),y["a"].error({message:e.t1.message});case 20:case"end":return e.stop()}}),e,null,[[0,17]])}))),j.apply(this,arguments)}function C(e,t,n){return T.apply(this,arguments)}function T(){return T=Object(g["a"])(v.a.mark((function e(t,n,a){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===O["a"].PHOTO?4:e.t0===O["a"].LINK?7:e.t0===O["a"].POST?10:13;break;case 4:return e.next=6,Object(E["q"])(n,a);case 6:return e.abrupt("break",14);case 7:return e.next=9,Object(E["p"])(n,a);case 9:return e.abrupt("break",14);case 10:return e.next=12,Object(E["r"])(n,a);case 12:return e.abrupt("break",14);case 13:throw Error("unsupported operation");case 14:h["a"].success("Successfully reported ".concat(t)),e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](0),y["a"].error({message:e.t1.message});case 20:case"end":return e.stop()}}),e,null,[[0,17]])}))),T.apply(this,arguments)}function S(e,t,n,a){return I.apply(this,arguments)}function I(){return I=Object(g["a"])(v.a.mark((function e(t,n,a,r){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===O["a"].PHOTO?4:e.t0===O["a"].LINK?7:e.t0===O["a"].POST?10:13;break;case 4:return e.next=6,Object(E["b"])(a,n,r);case 6:return e.abrupt("break",14);case 7:return e.next=9,Object(E["a"])(a,n,r);case 9:return e.abrupt("break",14);case 10:return e.next=12,Object(E["c"])(a,n,r);case 12:return e.abrupt("break",14);case 13:throw Error("unsupported operation");case 14:e.next=20;break;case 16:e.prev=16,e.t1=e["catch"](0),console.log("Errors occurs here",e.t1),y["a"].error({message:e.t1.message});case 20:case"end":return e.stop()}}),e,null,[[0,16]])}))),I.apply(this,arguments)}function P(e,t,n){return M.apply(this,arguments)}function M(){return M=Object(g["a"])(v.a.mark((function e(t,n,a){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===O["a"].PHOTO?4:e.t0===O["a"].LINK?7:e.t0===O["a"].POST?10:13;break;case 4:return e.next=6,Object(E["j"])(n,a);case 6:return e.abrupt("break",14);case 7:return e.next=9,Object(E["h"])(n,a);case 9:return e.abrupt("break",14);case 10:return e.next=12,Object(E["l"])(n,a);case 12:return e.abrupt("break",14);case 13:throw Error("unsupported operation");case 14:h["a"].success("Successfully deleted comment"),e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](0),y["a"].error({message:e.t1.message});case 20:case"end":return e.stop()}}),e,null,[[0,17]])}))),M.apply(this,arguments)}var L=n("4qKp"),q=n.n(L),N=n("SIUn"),R=n("BtR2"),_=function(e){var t=e.text,n=e.onClick,a=e.likedByMe;return s.a.createElement("span",{onClick:n},a?s.a.createElement(N["a"],{className:a?q.a.liked:"",style:{marginRight:8}}):s.a.createElement(R["a"],{className:a?q.a.liked:"",style:{marginRight:8}}),t)},H=n("WhZy"),F=function(e){var t=e.text,n=e.onClick;return s.a.createElement("span",{onClick:n},s.a.createElement(H["a"],{style:{marginRight:8}}),t)},U=n("jsC+"),K=n("C0qv"),A=n("2/1A"),z=n("/MfK"),B=n("5yul"),D=(n("qVdP"),n("+L6B"),n("2/Rp")),V=(n("tU7J"),n("wFql")),X=n("dPZp"),J=n("UFF1"),W=n("1qqS"),Z=n("uYtH"),Y=n("2mdC"),G=function(e){var t=e.comment,n=t.content,a=t.author,r=e.onReply,i=e.onDelete,c=Object(m["Rb"])("@@initialState"),u=c.initialState,s=null===u||void 0===u?void 0:u.currentUser,f=function(){return i(e.comment)},d=l["createElement"](o["default"],null,Object(Y["a"])(a.uid,s)&&l["createElement"](o["default"].Item,{onClick:f,key:"delete"},l["createElement"](m["k"],{id:"misc.actions.delete",defaultMessage:"Delete"})),l["createElement"](o["default"].Item,{onClick:function(){return r(e.comment)},key:"reply"},l["createElement"](m["k"],{id:"user.actions.reply",defaultMessage:"Reply"})));return l["createElement"]("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignContent:"stretch"}},l["createElement"](Z["a"],{to:Object(W["f"])(a.uid)},l["createElement"](X["a"],{type:J["a"].USER,size:"small",style:{flexShrink:0},id:a.uid}),l["createElement"](V["default"].Text,{strong:!0,style:{marginLeft:8,flexShrink:0}},a.displayName)),l["createElement"]("span",{style:{marginLeft:8,flexGrow:1,alignSelf:"flex-start",textAlign:"start"}},n),l["createElement"](U["default"],{overlay:d,trigger:["click"]},l["createElement"](D["default"],{type:"link",icon:l["createElement"](B["a"],null)})))};function $(e){var t=e.what,n=e.item,a=e.displayCommentsLength,f=e.unselectItem,p=Object(m["Rb"])("@@initialState"),h=p.initialState,b=null===h||void 0===h?void 0:h.currentUser,v=Object(l["useState"])(""),y=Object(u["a"])(v,2),g=y[0],E=y[1],O=ee(t,n,b,a),x=O.displayComments,j=O.commentsCount,T=Object(l["useRef"])(null),I=Q(t,n,b),M=I.likedByMe,L=I.likesCount,q=Object(m["Qb"])(),N=function(e){E(e.target.value)},R=function(){return k(t,n.uid,b.uid)},H=function(){return C(t,n.uid,b.uid)},D=function(){return S(t,g,n.uid,b)},V=function(e){var t;0===g.trim().length?E("@".concat(e.author.displayName.trim().replace(" ","_")," ")):E("@".concat(e.author.displayName.trim().replace(" ","_")," ").concat(g)),null===(t=T.current)||void 0===t||t.focus()},X=function(){var e;return null===(e=T.current)||void 0===e?void 0:e.focus()},J=function(){S(t,g,n.uid,b),E("")},W=function(){c["a"].confirm({title:q.formatMessage({id:"user.modalTitles.deletePost",defaultMessage:"Are you sure to delete this post?"}),okText:q.formatMessage({id:"misc.actions.delete",defaultMessage:"Delete"}),okType:"danger",cancelText:q.formatMessage({id:"misc.actions.cancel",defaultMessage:"Cancel"}),onOk:function(){w(t,n.uid),f()}})},Z=function(e){c["a"].confirm({title:q.formatMessage({id:"user.modalTitles.deleteComment",defaultMessage:"Are you sure to delete this comment?"}),okText:q.formatMessage({id:"misc.actions.delete",defaultMessage:"Delete"}),okType:"danger",cancelText:q.formatMessage({id:"misc.actions.cancel",defaultMessage:"Cancel"}),onOk:function(){P(t,e.uid,n.uid),f()}})},Y=s.a.createElement(o["default"],null,s.a.createElement(o["default"].Item,{key:"report",onClick:H,disabled:!b||b.uid===n.author.uid},s.a.createElement(A["a"],null),s.a.createElement(m["k"],{id:"user.actions.report",defaultMessage:"Report"})),s.a.createElement(o["default"].Item,{key:"delete",onClick:W,disabled:!b||b.uid!==n.author.uid&&b.permission<K["UserPermission"].ONLINE_MODERATOR},s.a.createElement(z["a"],null),s.a.createElement(m["k"],{id:"misc.actions.delete",defaultMessage:"Delete"})));return s.a.createElement(s.a.Fragment,null,s.a.createElement(i["b"].Item,{style:{maxWidth:614},actions:[s.a.createElement(_,{onClick:R,text:"".concat(L||0),key:"list-vertical-like-o",likedByMe:M}),s.a.createElement(F,{onClick:X,text:"".concat(j||0),key:"list-vertical-message"}),s.a.createElement("span",null,d()(n.creationTime).fromNow()),s.a.createElement(U["default"],{overlay:Y},s.a.createElement(B["a"],null))]}),x&&x.length>0&&s.a.createElement(i["b"],{size:"small",rowKey:function(e){return e.uid},dataSource:x,renderItem:function(e){return s.a.createElement(G,{user:b,comment:e,onReply:V,onDelete:Z})}}),s.a.createElement(r["a"],{ref:T,onPressEnter:J,value:g,onChange:N,placeholder:q.formatMessage({id:"user.addComment",defaultMessage:"Add new comment..."}),suffix:s.a.createElement("a",{onClick:D},s.a.createElement(m["k"],{id:"user.actions.post",defaultMessage:"Post"}))}))}function Q(e,t,n){var a=Object(l["useState"])(),r=Object(u["a"])(a,2),i=r[0],o=r[1],c=Object(l["useState"])(!1),s=Object(u["a"])(c,2),f=s[0],d=s[1];return Object(l["useEffect"])((function(){var a=Object(p["j"])(e).child(t.uid),r=a.on("value",(function(e){o(e.numChildren()),e.forEach((function(e){void 0!==n&&e.key===n.uid&&d(!0)}))}));return function(){return a.off("value",r)}}),[t.uid]),{likedByMe:f,likesCount:i}}function ee(e,t,n,r){var i=Object(l["useState"])(),o=Object(u["a"])(i,2),c=o[0],s=o[1],f=Object(l["useState"])([]),d=Object(u["a"])(f,2),m=d[0],h=d[1];return Object(l["useEffect"])((function(){var n=Object(p["g"])(e).child(t.uid),i=n.on("value",(function(e){s(e.numChildren());var t=[];e.forEach((function(e){t.push(Object(a["a"])(Object(a["a"])({},e.val()),{},{uid:e.key}))})),h(t.slice(Math.max(t.length-r,0)))}));return function(){return n.off("value",i)}}),[t.uid]),{commentsCount:c,displayComments:m}}},qw9D:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n("bP8k");var a,r=n("gFTJ"),i=(n("IzEo"),n("bx4M")),o=(n("tU7J"),n("wFql")),c=n("ODXe"),u=n("q1tI"),l=n.n(u),s=n("9kvl"),f=n("6+LV"),d=n("UFF1"),p=n("h3/X"),m=n("qHIK"),h=n("4qKp"),b=n.n(h);function v(e){var t=Object(u["useState"])(void 0),n=Object(c["a"])(t,2),a=n[0],r=n[1];return Object(u["useEffect"])((function(){Object(d["c"])(e).then((function(e){e&&r(e)}))}),[e]),a}function y(e){var t,n=e.item,c=e.displayCommentsLength,u=v(n.uid),d=Object(s["Rb"])("preview"),h=d.setSelectedItem,y=d.unselectItem,g=function(){return h(n)};return l.a.createElement(i["a"],{className:b.a.card,cover:null!==(t=!u)&&void 0!==t?t:l.a.createElement("img",{onClick:function(){return h(n)},style:{objectFit:"cover",maxHeight:714},alt:n.description,src:u})},l.a.createElement(i["a"].Meta,{title:l.a.createElement("span",{onClick:g},l.a.createElement(o["default"].Text,null,n.name)),description:l.a.createElement("span",{onClick:g},l.a.createElement(o["default"].Text,null,n.description))}),l.a.createElement(r["a"],null,l.a.createElement(r["a"].Item,{label:l.a.createElement(s["k"],{id:"coilCalculator.inputs.setup",defaultMessage:"Setup"})},a[n.setup]," Coil(",n.setup,")"),l.a.createElement(r["a"].Item,{label:l.a.createElement(s["k"],{id:"coilCalculator.inputs.wraps",defaultMessage:"Wraps"})},n.wraps),l.a.createElement(r["a"].Item,{label:l.a.createElement(s["k"],{id:"coilCalculator.inputs.coilType",defaultMessage:"Coil Type"})},p["WireType"][n.type]),l.a.createElement(r["a"].Item,{label:l.a.createElement(s["k"],{id:"coilCalculator.inputs.resistance",defaultMessage:"Resistance"})},Math.round(1e3*n.resistance)/1e3)),l.a.createElement(m["a"],{what:f["a"].COIL,item:n,displayCommentsLength:c,unselectItem:y}))}(function(e){e[e["Single"]=1]="Single",e[e["Dual"]=2]="Dual",e[e["Triple"]=3]="Triple",e[e["Quad"]=4]="Quad",e[e["Penta"]=5]="Penta",e[e["Hexa"]=6]="Hexa",e[e["Hepta"]=7]="Hepta",e[e["Octa"]=8]="Octa"})(a||(a={}))},rVr4:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("IzEo");var a=n("bx4M"),r=(n("tU7J"),n("wFql")),i=(n("cWXX"),n("/ezw")),o=n("q1tI"),c=n.n(o),u=n("9kvl"),l=n("uYtH"),s=n("dPZp"),f=n("MtwK"),d=n("UFF1"),p=n("1qqS"),m=n("4qKp"),h=n.n(m),b=n("qHIK");function v(e){var t=e.item,n=e.displayCommentsLength,o=Object(u["Rb"])("preview"),m=o.setSelectedItem,v=o.unselectItem,y=function(){return m(t)};return c.a.createElement(a["a"],{className:h.a.card,cover:t.url?c.a.createElement("img",{onClick:y,style:{objectFit:"cover",maxHeight:714},alt:t.description,src:t.url}):c.a.createElement(i["a"],{avatar:{shape:"square",size:200}})},c.a.createElement(a["a"].Meta,{avatar:c.a.createElement(l["a"],{to:Object(p["f"])(t.author.uid)},c.a.createElement(s["a"],{type:d["a"].USER,id:t.author.uid})),description:c.a.createElement(r["default"].Text,null,t.description)}),c.a.createElement(b["a"],{what:f["a"].PHOTO,item:t,displayCommentsLength:n,unselectItem:v}))}},xvlK:function(e,t,n){"use strict";var a=n("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=r,o=n("6VBw"),c=function(e,t){return a["createElement"](o["a"],Object.assign({},e,{ref:t,icon:i}))};c.displayName="PlusOutlined";t["a"]=a["forwardRef"](c)}}]);