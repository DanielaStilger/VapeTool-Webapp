(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"15/o":function(t,e,n){},"1YHl":function(t,e,n){"use strict";n("cIOH"),n("15/o")},VNzZ:function(t,e,n){"use strict";var r=n("q1tI"),o=n("TSYQ"),i=n.n(o),a=n("BGR+"),u=n("t23M"),c=n("H84U"),f=n("xEkU"),s=n.n(f);function l(t){return m(t)||h(t)||d(t)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"===typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function h(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function m(t){if(Array.isArray(t))return y(t)}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t){var e,n=function(n){return function(){e=null,t.apply(void 0,l(n))}},r=function(){if(null==e){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e=s()(n(r))}};return r.cancel=function(){return s.a.cancel(e)},r}function b(){return function(t,e,n){var r=n.value,o=!1;return{configurable:!0,get:function(){if(o||this===t.prototype||this.hasOwnProperty(e))return r;var n=v(r.bind(this));return o=!0,Object.defineProperty(this,e,{value:n,configurable:!0,writable:!0}),o=!1,n}}}}var g=n("zT1h");function w(t){return t!==window?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function O(t,e,n){if(void 0!==n&&e.top>t.top-n)return n+e.top}function E(t,e,n){if(void 0!==n&&e.bottom<t.bottom+n){var r=window.innerHeight-e.bottom;return n+r}}var x=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],P=[];function j(t,e){if(t){var n=P.find((function(e){return e.target===t}));n?n.affixList.push(e):(n={target:t,affixList:[e],eventHandlers:{}},P.push(n),x.forEach((function(e){n.eventHandlers[e]=Object(g["a"])(t,e,(function(){n.affixList.forEach((function(t){t.lazyUpdatePosition()}))}))})))}}function S(t){var e=P.find((function(e){var n=e.affixList.some((function(e){return e===t}));return n&&(e.affixList=e.affixList.filter((function(e){return e!==t}))),n}));e&&0===e.affixList.length&&(P=P.filter((function(t){return t!==e})),x.forEach((function(t){var n=e.eventHandlers[t];n&&n.remove&&n.remove()})))}function T(){return T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T.apply(this,arguments)}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),t}function R(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function q(t){var e=I();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(t,e){return!e||"object"!==M(e)&&"function"!==typeof e?B(t):e}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function M(t){return M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}var H,F=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":M(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};function U(){return"undefined"!==typeof window?window:null}(function(t){t[t["None"]=0]="None",t[t["Prepare"]=1]="Prepare"})(H||(H={}));var V=function(t){R(n,t);var e=q(n);function n(){var t;return A(this,n),t=e.apply(this,arguments),t.state={status:H.None,lastAffix:!1,prevTarget:null},t.getOffsetTop=function(){var e=t.props.offsetBottom,n=t.props.offsetTop;return void 0===e&&void 0===n&&(n=0),n},t.getOffsetBottom=function(){return t.props.offsetBottom},t.savePlaceholderNode=function(e){t.placeholderNode=e},t.saveFixedNode=function(e){t.fixedNode=e},t.measure=function(){var e=t.state,n=e.status,r=e.lastAffix,o=t.props.onChange,i=t.getTargetFunc();if(n===H.Prepare&&t.fixedNode&&t.placeholderNode&&i){var a=t.getOffsetTop(),u=t.getOffsetBottom(),c=i();if(c){var f={status:H.None},s=w(c),l=w(t.placeholderNode),p=O(l,s,a),d=E(l,s,u);void 0!==p?(f.affixStyle={position:"fixed",top:p,width:l.width,height:l.height},f.placeholderStyle={width:l.width,height:l.height}):void 0!==d&&(f.affixStyle={position:"fixed",bottom:d,width:l.width,height:l.height},f.placeholderStyle={width:l.width,height:l.height}),f.lastAffix=!!f.affixStyle,o&&r!==f.lastAffix&&o(f.lastAffix),t.setState(f)}}},t.prepareMeasure=function(){t.setState({status:H.Prepare,affixStyle:void 0,placeholderStyle:void 0})},t.render=function(){var e=t.context.getPrefixCls,n=t.state,o=n.affixStyle,c=n.placeholderStyle,f=t.props,s=f.prefixCls,l=f.children,p=i()(N({},e("affix",s),o)),d=Object(a["default"])(t.props,["prefixCls","offsetTop","offsetBottom","target","onChange"]);return r["createElement"](u["a"],{onResize:function(){t.updatePosition()}},r["createElement"]("div",T({},d,{ref:t.savePlaceholderNode}),o&&r["createElement"]("div",{style:c,"aria-hidden":"true"}),r["createElement"]("div",{className:p,ref:t.saveFixedNode,style:o},r["createElement"](u["a"],{onResize:function(){t.updatePosition()}},l))))},t}return L(n,[{key:"getTargetFunc",value:function(){var t=this.context.getTargetContainer,e=this.props.target;return void 0!==e?e:t||U}},{key:"componentDidMount",value:function(){var t=this,e=this.getTargetFunc();e&&(this.timeout=setTimeout((function(){j(e(),t),t.updatePosition()})))}},{key:"componentDidUpdate",value:function(t){var e=this.state.prevTarget,n=this.getTargetFunc(),r=null;n&&(r=n()||null),e!==r&&(S(this),r&&(j(r,this),this.updatePosition()),this.setState({prevTarget:r})),t.offsetTop===this.props.offsetTop&&t.offsetBottom===this.props.offsetBottom||this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),S(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"updatePosition",value:function(){this.prepareMeasure()}},{key:"lazyUpdatePosition",value:function(){var t=this.getTargetFunc(),e=this.state.affixStyle;if(t&&e){var n=this.getOffsetTop(),r=this.getOffsetBottom(),o=t();if(o&&this.placeholderNode){var i=w(o),a=w(this.placeholderNode),u=O(a,i,n),c=E(a,i,r);if(void 0!==u&&e.top===u||void 0!==c&&e.bottom===c)return}}this.prepareMeasure()}}]),n}(r["Component"]);V.contextType=c["b"],F([b()],V.prototype,"updatePosition",null),F([b()],V.prototype,"lazyUpdatePosition",null);e["a"]=V},jzfs:function(t,e,n){"use strict";n.r(e);n("1YHl");var r=n("VNzZ"),o=(n("+L6B"),n("2/Rp")),i=(n("Mwp2"),n("VXEj")),a=n("KQm4"),u=n("q1tI"),c=n.n(u),f=n("9kvl"),s=n("4qKp"),l=n.n(s),p=n("rVr4"),d=(n("qw9D"),n("aPSF")),h=n("8eEf"),m=(n("2qtc"),n("kLXV")),y=n("6+LV"),v=function(){var t=Object(f["bb"])("@@initialState"),e=t.initialState,n=e||{},r=n.currentUser,o=Object(f["bb"])("preview"),i=o.selectedItem,a=o.unselectItem;console.log("selected ".concat(i));var c,s=function(){return a()};return i&&r?(c=i.$type===y["a"].PHOTO?u["createElement"](p["a"],{item:i,displayCommentsLength:Number.MAX_SAFE_INTEGER}):"post"===i.$type?u["createElement"](h["a"],{item:i,displayCommentsLength:Number.MAX_SAFE_INTEGER}):u["createElement"](d["a"],{item:i,displayCommentsLength:Number.MAX_SAFE_INTEGER}),u["createElement"](m["a"],{footer:null,centered:!0,bodyStyle:{padding:0},visible:void 0!==i,onCancel:s},c)):u["createElement"]("div",null)},b=v,g=n("bIAK"),w=n("+T5r"),O=n("xvlK"),E=n("Hx5s"),x=function(){var t=function(){return f["M"].push("/cloud/upload")},e=Object(f["bb"])("cloud"),n=e.setLinks,s=e.setPhotos,m=e.setPosts,y=e.posts,v=e.links,x=e.photos,P=Object(f["bb"])("@@initialState"),j=P.initialState,S=j||{},T=S.firebaseUser;if(Object(u["useEffect"])((function(){return Object(w["v"])(n)}),[]),Object(u["useEffect"])((function(){return Object(w["x"])(s)}),[]),Object(u["useEffect"])((function(){return Object(w["y"])(m)}),[]),void 0===x||void 0===y||void 0===v)return c.a.createElement(g["default"],null);var N=[].concat(Object(a["a"])(x),Object(a["a"])(y),Object(a["a"])(v)).sort((function(t,e){return Number(e.creationTime)-Number(t.creationTime)}));return c.a.createElement(E["PageContainer"],null,c.a.createElement(i["b"],{className:l.a.coverCardList,style:{maxWidth:614,margin:"0 auto"},rowKey:"uid",itemLayout:"vertical",dataSource:N,renderItem:function(t){return"photo"===t.$type?c.a.createElement(p["a"],{displayCommentsLength:3,item:t}):"post"===t.$type?c.a.createElement(h["a"],{displayCommentsLength:3,item:t}):"link"===t.$type?c.a.createElement(d["a"],{displayCommentsLength:3,item:t}):c.a.createElement("div",null)}}),c.a.createElement(b,null),T&&!T.isAnonymous&&c.a.createElement(r["a"],{offsetBottom:30},c.a.createElement(o["default"],{type:"primary",icon:c.a.createElement(O["a"],null),shape:"circle",size:"large",onClick:t})))};e["default"]=x},xvlK:function(t,e,n){"use strict";var r=n("q1tI"),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=o,a=n("6VBw"),u=function(t,e){return r["createElement"](a["a"],Object.assign({},t,{ref:e,icon:i}))};u.displayName="PlusOutlined";e["a"]=r["forwardRef"](u)}}]);