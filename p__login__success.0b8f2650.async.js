(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{tW0C:function(e,t,a){"use strict";a.r(t);a("/xke");var n=a("TeRw"),r=a("o0o1"),i=a.n(r),s=a("HaE+"),c=a("VTBJ"),o=a("q1tI"),b=a.n(o),u=a("iqUP"),l=a.n(u),p=a("bIAK"),f=a("c+yx"),h=a("Oxmv"),d=a("9kvl"),O=a("BqDR"),j=a("1qqS"),k=function(){var e=Object(d["bb"])("user"),t=e.firebaseUser,a=Object(d["bb"])("@@initialState"),r=a.initialState,u=a.setInitialState;Object(o["useEffect"])((function(){t&&t.isAnonymous?(u(Object(c["a"])(Object(c["a"])({},r),{},{firebaseUser:t})),d["M"].replace({pathname:"/"})):t&&!t.isAnonymous&&Object(O["a"])(t.uid).then(function(){var e=Object(s["a"])(i.a.mark((function e(a){var n,s;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=8;break}return e.next=3,Object(O["b"])(t);case 3:if(a=e.sent,a){e.next=7;break}return d["M"].push("/oops"),e.abrupt("return");case 7:d["M"].replace({pathname:Object(j["f"])()});case 8:n=[],Object(f["e"])(a.subscription)&&n.push({key:"pro",label:"Pro"}),s=Object(f["i"])(a.permission,Object(f["e"])(a.subscription)),u(Object(c["a"])(Object(c["a"])({},r),{},{firebaseUser:t,currentUser:Object(c["a"])(Object(c["a"])({},a),{},{name:a.display_name,tags:n,authorities:s})})),d["M"].push("/");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]);var k=Object(f["b"])(),m=k&&k.id_token,v=k&&"facebookdirect"===k.state&&k.access_token;if(m){var g=l.a.auth.GoogleAuthProvider.credential(k.id_token);h["b"].signInWithCredential(g).catch((function(e){console.error({signInWithCredentialFacebook:e}),n["a"].error({message:e.message})}))}else if(v){var w=l.a.auth.FacebookAuthProvider.credential(k.access_token);h["b"].signInWithCredential(w).catch((function(e){console.error({signInWithCredentialFacebook:e}),n["a"].error({message:e.message})}))}return b.a.createElement(p["default"],null)};t["default"]=k}}]);